{"ast":null,"code":"import \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/alert/style\";\nimport _Alert from \"antd/es/alert\";\nimport \"antd/es/spin/style\";\nimport _Spin from \"antd/es/spin\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport _defineProperty from \"/app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/layout/style\";\nimport _Layout from \"antd/es/layout\";\nvar _jsxFileName = \"/app/src/pages/Login/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//import jwt_decode from \"jwt-decode\";\n//import { BehaviorSubject } from \"rxjs\";\nimport React, { useContext, useState } from \"react\";\nimport { AuthContext } from \"../../App\";\nimport logoHyperledger from \"./../../assets/img/Linux_Foundation_logo.png\";\nconst Header = _Layout.Header,\n      Content = _Layout.Content,\n      Footer = _Layout.Footer;\n\nconst Login = () => {\n  const _useContext = useContext(AuthContext),\n        dispatch = _useContext.dispatch;\n\n  const initialState = {\n    name: \"\",\n    password: \"\",\n    isSubmitting: false,\n    errorMessage: null\n  };\n\n  const _useState = useState(initialState),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const handleInputChange = event => {\n    setData(_objectSpread({}, data, {\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    setData(_objectSpread({}, data, {\n      isSubmitting: true,\n      errorMessage: null\n    }));\n    fetch(\"http://\".concat(process.env.REACT_APP_GATEWAY_HOST, \":\").concat(process.env.REACT_APP_GATEWAY_PORT, \"/authentication\"), {\n      method: \"post\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/x-www-form-urlencoded',\n        'Content-Length': 1108\n      },\n      body: JSON.stringify({\n        username: data.username,\n        password: data.password\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      throw res;\n    }).then(resJson => {\n      dispatch({\n        type: \"LOGIN\",\n        payload: resJson\n      });\n    }).catch(error => {\n      let errorText = error.status === 404 ? \"Register user on the blockchain\" : error.status === 401 ? \"Wrong password\" : \"You cannot make the request\";\n      setData(_objectSpread({}, data, {\n        isSubmitting: false,\n        errorMessage: errorText\n      }));\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(_Layout, {\n    className: \"layout\",\n    style: {\n      minHeight: \"100vh\",\n      background: \"#fff\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(Header, {\n    className: \"header-login\",\n    style: {\n      padding: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(Content, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(_Row, {\n    style: {\n      background: \"#fff\",\n      minHeight: \"calc(100vh - 140px)\"\n    },\n    type: \"flex\",\n    justify: \"space-around\",\n    align: \"middle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(_Col, {\n    sm: 24,\n    md: 12,\n    lg: 6,\n    xl: 6,\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(_Form, {\n    onSubmit: handleFormSubmit,\n    className: \"login-form\",\n    style: {\n      padding: 24\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: logoHyperledger,\n    alt: \"Logo\",\n    style: {\n      height: \"20vh\",\n      marginBottom: \"20px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(_Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(_Input, {\n    size: \"large\",\n    prefix: React.createElement(_Icon, {\n      type: \"user\",\n      style: {\n        color: \"rgba(0,0,0,.25)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }),\n    placeholder: \"Username\",\n    name: \"username\",\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  })), React.createElement(_Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(_Input, {\n    size: \"large\",\n    prefix: React.createElement(_Icon, {\n      type: \"lock\",\n      style: {\n        color: \"rgba(0,0,0,.25)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }),\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  })), React.createElement(_Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(_Spin, {\n    spinning: data.isSubmitting,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(_Button, {\n    size: \"large\",\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"login-form-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"LOGIN\")), data.errorMessage && React.createElement(_Alert, {\n    message: data.errorMessage,\n    type: \"error\",\n    showIcon: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  })))))), React.createElement(Footer, {\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"https://www.linuxfoundation.org/\",\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"Linux Foundation 2021\"), \", Created as part of the Project \", React.createElement(\"a\", {\n    href: \"https://wiki.hyperledger.org/display/INTERN/Project+Plan%3A+The+Use+of+NLP+and+DLT+to+Enable+the+Digitalization+of+Telecom+Roaming+Agreements\",\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"NLP-DLT\"))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/app/src/pages/Login/index.js"],"names":["React","useContext","useState","AuthContext","logoHyperledger","Header","Content","Footer","Login","dispatch","initialState","name","password","isSubmitting","errorMessage","data","setData","handleInputChange","event","target","value","handleFormSubmit","preventDefault","fetch","process","env","REACT_APP_GATEWAY_HOST","REACT_APP_GATEWAY_PORT","method","headers","body","JSON","stringify","username","then","res","ok","json","resJson","type","payload","catch","error","errorText","status","minHeight","background","padding","textAlign","height","marginBottom","color"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AAEA,SAASC,WAAT,QAA4B,WAA5B;AACA,OAAOC,eAAP,MAA4B,8CAA5B;MAEQC,M,WAAAA,M;MAAQC,O,WAAAA,O;MAASC,M,WAAAA,M;;AAEzB,MAAMC,KAAK,GAAG,MAAM;AAAA,sBACGP,UAAU,CAACE,WAAD,CADb;AAAA,QACVM,QADU,eACVA,QADU;;AAElB,QAAMC,YAAY,GAAG;AACnBC,IAAAA,IAAI,EAAE,EADa;AAEnBC,IAAAA,QAAQ,EAAE,EAFS;AAGnBC,IAAAA,YAAY,EAAE,KAHK;AAInBC,IAAAA,YAAY,EAAE;AAJK,GAArB;;AAFkB,oBASMZ,QAAQ,CAACQ,YAAD,CATd;AAAA;AAAA,QASXK,IATW;AAAA,QASLC,OATK;;AAWlB,QAAMC,iBAAiB,GAAIC,KAAD,IAAW;AACnCF,IAAAA,OAAO,mBACFD,IADE;AAEL,OAACG,KAAK,CAACC,MAAN,CAAaR,IAAd,GAAqBO,KAAK,CAACC,MAAN,CAAaC;AAF7B,OAAP;AAID,GALD;;AAOA,QAAMC,gBAAgB,GAAIH,KAAD,IAAW;AAClCA,IAAAA,KAAK,CAACI,cAAN;AACAN,IAAAA,OAAO,mBACFD,IADE;AAELF,MAAAA,YAAY,EAAE,IAFT;AAGLC,MAAAA,YAAY,EAAE;AAHT,OAAP;AAMAS,IAAAA,KAAK,kBAAWC,OAAO,CAACC,GAAR,CAAYC,sBAAvB,cAAiDF,OAAO,CAACC,GAAR,CAAYE,sBAA7D,sBAAsG;AACzGC,MAAAA,MAAM,EAAE,MADiG;AAEzGC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,kBAAU,mCAFH;AAGP,0BAAkB;AAHX,OAFgG;AAOzGC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,QAAQ,EAAElB,IAAI,CAACkB,QADI;AAEnBrB,QAAAA,QAAQ,EAAEG,IAAI,CAACH;AAFI,OAAf;AAPmG,KAAtG,CAAL,CAYGsB,IAZH,CAYSC,GAAD,IAAS;AACb,UAAIA,GAAG,CAACC,EAAR,EAAY;AACV,eAAOD,GAAG,CAACE,IAAJ,EAAP;AACD;;AACD,YAAMF,GAAN;AACD,KAjBH,EAkBGD,IAlBH,CAkBSI,OAAD,IAAa;AACjB7B,MAAAA,QAAQ,CAAC;AACP8B,QAAAA,IAAI,EAAE,OADC;AAEPC,QAAAA,OAAO,EAAEF;AAFF,OAAD,CAAR;AAID,KAvBH,EAwBGG,KAxBH,CAwBUC,KAAD,IAAW;AAChB,UAAIC,SAAS,GACXD,KAAK,CAACE,MAAN,KAAiB,GAAjB,GACI,iCADJ,GAEIF,KAAK,CAACE,MAAN,KAAiB,GAAjB,GACE,gBADF,GAEE,6BALR;AAMA5B,MAAAA,OAAO,mBACFD,IADE;AAELF,QAAAA,YAAY,EAAE,KAFT;AAGLC,QAAAA,YAAY,EAAE6B;AAHT,SAAP;AAKD,KApCH;AAqCD,GA7CD;;AA+CA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,QADZ;AAEE,IAAA,KAAK,EAAE;AAAEE,MAAAA,SAAS,EAAE,OAAb;AAAsBC,MAAAA,UAAU,EAAE;AAAlC,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,cAAlB;AAAiC,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EASE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,KAAK,EAAE;AAAED,MAAAA,UAAU,EAAE,MAAd;AAAsBD,MAAAA,SAAS,EAAE;AAAjC,KADT;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,OAAO,EAAC,cAHV;AAIE,IAAA,KAAK,EAAC,QAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,EAAE,EAAE,EAAjB;AAAqB,IAAA,EAAE,EAAE,CAAzB;AAA4B,IAAA,EAAE,EAAE,CAAhC;AAAmC,IAAA,KAAK,EAAE;AAAEG,MAAAA,SAAS,EAAE;AAAb,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,QAAQ,EAAE3B,gBADZ;AAEE,IAAA,SAAS,EAAC,YAFZ;AAGE,IAAA,KAAK,EAAE;AAAE0B,MAAAA,OAAO,EAAE;AAAX,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AACE,IAAA,GAAG,EAAE3C,eADP;AAEE,IAAA,GAAG,EAAC,MAFN;AAGE,IAAA,KAAK,EAAE;AAAE6C,MAAAA,MAAM,EAAE,MAAV;AAAkBC,MAAAA,YAAY,EAAE;AAAhC,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAUE,0BAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,MAAM,EACJ;AAAM,MAAA,IAAI,EAAC,MAAX;AAAkB,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ;AAKE,IAAA,WAAW,EAAC,UALd;AAME,IAAA,IAAI,EAAC,UANP;AAOE,IAAA,QAAQ,EAAElC,iBAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAVF,EAqBE,0BAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,MAAM,EACJ;AAAM,MAAA,IAAI,EAAC,MAAX;AAAkB,MAAA,KAAK,EAAE;AAAEkC,QAAAA,KAAK,EAAE;AAAT,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ;AAKE,IAAA,IAAI,EAAC,UALP;AAME,IAAA,WAAW,EAAC,UANd;AAOE,IAAA,IAAI,EAAC,UAPP;AAQE,IAAA,QAAQ,EAAElC,iBARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CArBF,EAiCE,0BAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEF,IAAI,CAACF,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,IAAI,EAAC,SAFP;AAGE,IAAA,QAAQ,EAAC,QAHX;AAIE,IAAA,SAAS,EAAC,mBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CADF,EAWGE,IAAI,CAACD,YAAL,IACC;AAAO,IAAA,OAAO,EAAEC,IAAI,CAACD,YAArB;AAAmC,IAAA,IAAI,EAAC,OAAxC;AAAgD,IAAA,QAAQ,MAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZJ,CAjCF,CADF,CANF,CADF,CATF,EAqEE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE;AAAEkC,MAAAA,SAAS,EAAE;AAAb,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,IAAI,EAAC,kCAAR;AAA2C,IAAA,MAAM,EAAC,QAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,uCACuH;AAAG,IAAA,IAAI,EAAC,+IAAR;AAAwJ,IAAA,MAAM,EAAC,QAA/J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADvH,CArEF,CADF,CADF;AA6ED,CA9ID;;AAgJA,eAAexC,KAAf","sourcesContent":["//import jwt_decode from \"jwt-decode\";\n//import { BehaviorSubject } from \"rxjs\";\nimport React, { useContext, useState } from \"react\";\nimport { Form, Icon, Input, Button, Layout, Row, Col, Alert, Spin } from \"antd\";\nimport { AuthContext } from \"../../App\";\nimport logoHyperledger from \"./../../assets/img/Linux_Foundation_logo.png\";\n\nconst { Header, Content, Footer } = Layout;\n\nconst Login = () => {\n  const { dispatch } = useContext(AuthContext);\n  const initialState = {\n    name: \"\",\n    password: \"\",\n    isSubmitting: false,\n    errorMessage: null,\n  };\n\n  const [data, setData] = useState(initialState);\n\n  const handleInputChange = (event) => {\n    setData({\n      ...data,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault();\n    setData({\n      ...data,\n      isSubmitting: true,\n      errorMessage: null,\n    });\n\n    fetch(`http://${process.env.REACT_APP_GATEWAY_HOST}:${process.env.REACT_APP_GATEWAY_PORT}/authentication`, {\n      method: \"post\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/x-www-form-urlencoded',\n        'Content-Length': 1108\n      },\n      body: JSON.stringify({\n        username: data.username,\n        password: data.password,\n      }),\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        throw res;\n      })\n      .then((resJson) => {\n        dispatch({\n          type: \"LOGIN\",\n          payload: resJson,\n        });\n      })\n      .catch((error) => {\n        let errorText =\n          error.status === 404\n            ? \"Register user on the blockchain\"\n            : error.status === 401\n              ? \"Wrong password\"\n              : \"You cannot make the request\";\n        setData({\n          ...data,\n          isSubmitting: false,\n          errorMessage: errorText,\n        });\n      });\n  };\n\n  return (\n    <div>\n      <Layout\n        className=\"layout\"\n        style={{ minHeight: \"100vh\", background: \"#fff\" }}\n      >\n        <Header className=\"header-login\" style={{ padding: 0 }}>\n          {/*<div className=\"logo-login\">\n            <img src={logoCmobileWhite} alt=\"Logo\" style={{ height: \"100%\", marginLeft: \"10px\" }} />\n          </div>*/}\n        </Header>\n        <Content>\n          <Row\n            style={{ background: \"#fff\", minHeight: \"calc(100vh - 140px)\" }}\n            type=\"flex\"\n            justify=\"space-around\"\n            align=\"middle\"\n          >\n            <Col sm={24} md={12} lg={6} xl={6} style={{ textAlign: \"center\" }}>\n              <Form\n                onSubmit={handleFormSubmit}\n                className=\"login-form\"\n                style={{ padding: 24 }}\n              >\n                <img\n                  src={logoHyperledger}\n                  alt=\"Logo\"\n                  style={{ height: \"20vh\", marginBottom: \"20px\" }}\n                />\n                <Form.Item>\n                  <Input\n                    size=\"large\"\n                    prefix={\n                      <Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                    }\n                    placeholder=\"Username\"\n                    name=\"username\"\n                    onChange={handleInputChange}\n                  />\n                </Form.Item>\n                <Form.Item>\n                  <Input\n                    size=\"large\"\n                    prefix={\n                      <Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                    }\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    onChange={handleInputChange}\n                  />\n                </Form.Item>\n                <Form.Item>\n                  <Spin spinning={data.isSubmitting}>\n                    <Button\n                      size=\"large\"\n                      type=\"primary\"\n                      htmlType=\"submit\"\n                      className=\"login-form-button\"\n                    >\n                      LOGIN\n                    </Button>\n                  </Spin>\n                  {data.errorMessage && (\n                    <Alert message={data.errorMessage} type=\"error\" showIcon />\n                  )}\n                </Form.Item>\n              </Form>\n            </Col>\n          </Row>\n        </Content>\n        <Footer style={{ textAlign: \"center\" }}>\n          <a href=\"https://www.linuxfoundation.org/\" target=\"_blank\">Linux Foundation 2021</a>, Created as part of the Project <a href=\"https://wiki.hyperledger.org/display/INTERN/Project+Plan%3A+The+Use+of+NLP+and+DLT+to+Enable+the+Digitalization+of+Telecom+Roaming+Agreements\" target=\"_blank\">NLP-DLT</a>\n        </Footer>\n      </Layout>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}