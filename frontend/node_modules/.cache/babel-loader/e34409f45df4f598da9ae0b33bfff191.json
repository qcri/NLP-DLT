{"ast":null,"code":"import \"antd/es/spin/style\";\nimport _Spin from \"antd/es/spin\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/auto-complete/style\";\nimport _AutoComplete from \"antd/es/auto-complete\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/input-number/style\";\nimport _InputNumber from \"antd/es/input-number\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/tooltip/style\";\nimport _Tooltip from \"antd/es/tooltip\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport _defineProperty from \"/app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"antd/es/notification/style\";\nimport _notification from \"antd/es/notification\";\nimport _slicedToArray from \"/app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/app/src/pages/AddArticle/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from \"react\";\nimport \"./../../App.css\";\nimport axios from \"axios\";\nimport Clipboard from 'react-clipboard.js';\nimport { useGlobal } from \"reactn\";\nconst style = {\n  background: '#ffffff',\n  padding: '0px 0'\n};\nconst dataSource = ['Variable', 'Variation', 'Standard Clause', 'Custom Text'];\nconst _defaultCosts = [{\n  name: \"Rice\",\n  price: 0\n}];\nconst initialFormState = {\n  raname: \"\",\n  articleNo: \"\",\n  variables: \"\",\n  variations: \"\",\n  customTexts: \"\",\n  standardClauses: \"\"\n};\n\nconst AddArticle = () => {\n  const formItemLayout = {};\n\n  const _useGlobal = useGlobal(),\n        _useGlobal2 = _slicedToArray(_useGlobal, 1),\n        global = _useGlobal2[0];\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        loading = _useState2[0],\n        setLoading = _useState2[1];\n\n  const _useState3 = useState(_defaultCosts),\n        _useState4 = _slicedToArray(_useState3, 2),\n        costs = _useState4[0],\n        setCosts = _useState4[1];\n\n  let userDetails = JSON.parse(localStorage.getItem('user'));\n\n  const _useState5 = useState(initialFormState),\n        _useState6 = _slicedToArray(_useState5, 2),\n        addArticle = _useState6[0],\n        setAddArticle = _useState6[1];\n\n  const handleCostsChange = event => {\n    const _tempCosts = [...costs];\n    _tempCosts[event.target.dataset.id][event.target.name] = event.target.value;\n    setCosts(_tempCosts);\n  };\n\n  const addNewCost = () => {\n    setCosts(prevCosts => [...prevCosts, {\n      name: \"\",\n      price: 0\n    }]);\n  };\n\n  const openNotificationWithIcon = (type, title, description) => {\n    _notification[type]({\n      message: title,\n      description: description\n    });\n  };\n\n  const onClick = () => {\n    const value = global.value;\n    addArticle.raname = value;\n    setAddArticle(prevValue => _objectSpread({}, prevValue, {\n      tokenid: value\n    }));\n  };\n\n  const onChange = value => {\n    setAddArticle(_objectSpread({}, addArticle, {\n      articleNo: value\n    }));\n    addArticle.articleNo = value;\n  };\n\n  function handleChange(event) {\n    const value = event.target.value;\n    setAddArticle(_objectSpread({}, addArticle, {\n      [event.target.name]: value\n    }));\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    const jwtToken = localStorage.getItem(\"token\"); //Set POST request\n\n    axios.post(\"http://\".concat(process.env.REACT_APP_GATEWAY_HOST, \":\").concat(process.env.REACT_APP_GATEWAY_PORT, \"/proposeAddArticle\"), {\n      addArticle,\n      costs,\n      userDetails\n    }, {\n      headers: {\n        \"Authorization\": \"Bearer \".concat(jwtToken)\n      }\n    }).then(res => {\n      console.log(addArticle);\n      console.log(costs);\n\n      if (res.status === 200) {\n        openNotificationWithIcon(\"success\", \"SUCCESSFULLY REGISTERED AGREEMENT\");\n      }\n\n      if (res.status === 201) {\n        openNotificationWithIcon(\"error\", \"MISSING VALUES TO CREATE THE AGREEMENT\");\n      }\n\n      if (res.status === 202) {\n        openNotificationWithIcon(\"error\", \"ROAMING AGREEMENT MUST BE CREATED BETWEEN TWO MNOs\");\n      }\n    }).catch(() => openNotificationWithIcon(\"error\", \"UNREGISTERED ROAMING AGREEMENT\")).finally(() => setLoading(false));\n  };\n\n  return React.createElement(\"section\", {\n    className: \"CommentsWrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, \" PROPOSE AN ARTICLE FOR A ROAMING AGREEMENT\"), React.createElement(_Row, {\n    gutter: [16, 16],\n    type: \"flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(_Col, {\n    xl: 24,\n    lg: 24,\n    md: 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(_Form, Object.assign({}, formItemLayout, {\n    name: \"basic\",\n    initialvalues: {\n      remember: true\n    },\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }), React.createElement(_Spin, {\n    spinning: loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(_Col, {\n    lg: 24,\n    md: 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(_Form.Item, {\n    label: \"NAME OF THE ROAMING AGREEMENT\",\n    name: \"raname\",\n    rules: [{\n      required: true,\n      message: \"NAME OF THE ROAMING AGREEMENT\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(_Input, {\n    size: \"large\",\n    placeholder: \"Paste the Name of the Roaming Agreement\",\n    suffix: React.createElement(Clipboard, {\n      onClick: onClick,\n      style: {\n        background: 'white',\n        border: '0px',\n        outline: '0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(_Tooltip, {\n      title: \"Paste raname Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"snippets\",\n      style: {\n        color: 'black',\n        fontSize: 'x-large'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }))),\n    type: \"text\",\n    name: \"raname\",\n    value: addArticle.raname,\n    onChange: handleChange,\n    style: {\n      width: '35%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  })), React.createElement(_Form.Item, {\n    label: \"ARTICLE NUMBER:\",\n    name: \"articleNo\",\n    rules: [{\n      required: true,\n      message: \"Introduce the article number\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, React.createElement(_InputNumber, {\n    size: \"large\",\n    placeholder: \"1\",\n    min: 1,\n    max: 100000,\n    name: \"articleNo\",\n    value: addArticle.articleNo,\n    onChange: onChange,\n    style: {\n      width: '10%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  })), React.createElement(_Form.Item, {\n    hasFeedback: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(_Row, {\n    type: \"flex\",\n    justify: \"start\",\n    gutter: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(_Col, {\n    xs: 4,\n    sm: 4,\n    xl: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: style,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, \" FEATURE \")), React.createElement(_Col, {\n    xs: 2,\n    sm: 2,\n    xl: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: style,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, \" ID \")), React.createElement(_Col, {\n    xs: 5,\n    sm: 5,\n    xl: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: style,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, \" VALUE \"))), costs.map((item, index) => React.createElement(_Row, {\n    type: \"flex\",\n    justify: \"start\",\n    gutter: 16,\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, React.createElement(_Col, {\n    xs: 4,\n    sm: 4,\n    xl: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, React.createElement(_AutoComplete, {\n    size: \"large\",\n    style: {\n      width: '100%'\n    },\n    dataSource: dataSource,\n    placeholder: \"Feature\",\n    filterOption: (inputValue, option) => option.props.children.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  })), React.createElement(_Col, {\n    xs: 2,\n    sm: 2,\n    xl: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, React.createElement(_Input, {\n    name: \"price\",\n    size: \"large\",\n    placeholder: \"ID\",\n    style: {\n      width: '100%'\n    },\n    \"data-id\": index,\n    type: \"number\",\n    value: item.price,\n    onChange: handleCostsChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  })), React.createElement(_Col, {\n    xs: 5,\n    sm: 5,\n    xl: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(_Input, {\n    name: \"name\",\n    size: \"large\",\n    \"data-id\": index,\n    style: {\n      width: '100%'\n    },\n    type: \"text\",\n    value: item.name,\n    onChange: handleCostsChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }))))), React.createElement(_Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }, React.createElement(_Button, {\n    type: \"primary\",\n    icon: \"plus\",\n    style: {\n      width: '2%'\n    },\n    onClick: addNewCost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  }), React.createElement(_Button, {\n    size: \"large\",\n    type: \"primary\",\n    htmlType: \"submit\",\n    block: true,\n    style: {\n      width: '35%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, \"PROPOSE ARTICLE\"))))))));\n};\n\nexport default AddArticle;","map":{"version":3,"sources":["/app/src/pages/AddArticle/index.js"],"names":["React","useState","axios","Clipboard","useGlobal","style","background","padding","dataSource","_defaultCosts","name","price","initialFormState","raname","articleNo","variables","variations","customTexts","standardClauses","AddArticle","formItemLayout","global","loading","setLoading","costs","setCosts","userDetails","JSON","parse","localStorage","getItem","addArticle","setAddArticle","handleCostsChange","event","_tempCosts","target","dataset","id","value","addNewCost","prevCosts","openNotificationWithIcon","type","title","description","message","onClick","prevValue","tokenid","onChange","handleChange","handleSubmit","e","preventDefault","jwtToken","post","process","env","REACT_APP_GATEWAY_HOST","REACT_APP_GATEWAY_PORT","headers","then","res","console","log","status","catch","finally","remember","required","border","outline","color","fontSize","width","map","item","index","inputValue","option","props","children","toUpperCase","indexOf"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  AutoComplete,\n  Row,\n  Col,\n  Form,\n  Input,\n  InputNumber,\n  Button,\n  Spin,\n  notification,\n  Table,\n  Tooltip\n} from \"antd\";\nimport \"./../../App.css\";\nimport axios from \"axios\";\nimport { Icon as NewIco } from \"antd\";\nimport Clipboard from 'react-clipboard.js';\nimport { useGlobal } from \"reactn\";\n\nconst style = { background: '#ffffff', padding: '0px 0' };\n\nconst dataSource = ['Variable', 'Variation', 'Standard Clause', 'Custom Text'];\n\nconst _defaultCosts = [\n  {\n    name: \"Rice\",\n    price: 0,\n  }\n];\n\nconst initialFormState = {\n  raname: \"\",\n  articleNo: \"\",\n  variables: \"\",\n  variations: \"\",\n  customTexts: \"\",\n  standardClauses: \"\",\n};\n\nconst AddArticle = () => {\n\n  const formItemLayout = {};\n  const [global] = useGlobal();\n  const [loading, setLoading] = useState(false);\n  const [costs, setCosts] = useState(_defaultCosts);\n  let userDetails = JSON.parse(localStorage.getItem('user'));\n  const [addArticle, setAddArticle] = useState(initialFormState);\n\n  const handleCostsChange = event => {\n    const _tempCosts = [...costs];\n    _tempCosts[event.target.dataset.id][event.target.name] = event.target.value;\n    setCosts(_tempCosts);\n  };\n\n  const addNewCost = () => {\n    setCosts(prevCosts => [...prevCosts, { name: \"\", price: 0 }]);\n  };\n\n  const openNotificationWithIcon = (type, title, description) => {\n    notification[type]({\n      message: title,\n      description: description,\n    });\n  };\n\n  const onClick = () => {\n    const value = global.value;\n    addArticle.raname = value;\n    setAddArticle(prevValue => ({ ...prevValue, tokenid: value }));\n  }\n\n  const onChange = (value) => {\n    setAddArticle({ ...addArticle, articleNo: value })\n    addArticle.articleNo = value;\n  };\n\n  function handleChange(event) {\n    const value = event.target.value;\n    setAddArticle({\n      ...addArticle,\n      [event.target.name]: value\n    });\n  }\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true)\n    const jwtToken = localStorage.getItem(\"token\");\n    //Set POST request\n    axios\n      .post(`http://${process.env.REACT_APP_GATEWAY_HOST}:${process.env.REACT_APP_GATEWAY_PORT}/proposeAddArticle`, { addArticle, costs, userDetails }, { headers: { \"Authorization\": `Bearer ${jwtToken}` } })\n      .then((res) => {\n        console.log(addArticle);\n        console.log(costs);\n        if (res.status === 200) {\n          openNotificationWithIcon(\n            \"success\",\n            \"SUCCESSFULLY REGISTERED AGREEMENT\"\n          );\n        }\n        if (res.status === 201) {\n          openNotificationWithIcon(\n            \"error\",\n            \"MISSING VALUES TO CREATE THE AGREEMENT\"\n          );\n        }\n        if (res.status === 202) {\n          openNotificationWithIcon(\n            \"error\",\n            \"ROAMING AGREEMENT MUST BE CREATED BETWEEN TWO MNOs\"\n          );\n        }\n      })\n      .catch(() =>\n        openNotificationWithIcon(\n          \"error\",\n          \"UNREGISTERED ROAMING AGREEMENT\",\n        )\n      )\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <section className=\"CommentsWrapper\">\n      <h2> PROPOSE AN ARTICLE FOR A ROAMING AGREEMENT</h2>\n      <Row gutter={[16, 16]} type=\"flex\">\n        <Col xl={24} lg={24} md={24}>\n          <Form\n            {...formItemLayout}\n            name=\"basic\"\n            initialvalues={{\n              remember: true\n            }}\n            onSubmit={handleSubmit}\n          >\n            <Spin spinning={loading}>\n              <Col lg={24} md={24}>\n\n                <Form.Item\n                  label=\"NAME OF THE ROAMING AGREEMENT\"\n                  name=\"raname\"\n                  rules={[\n                    {\n                      required: true,\n                      message: \"NAME OF THE ROAMING AGREEMENT\"\n                    }\n                  ]}\n                >\n                  <Input\n                    size=\"large\"\n                    placeholder={\"Paste the Name of the Roaming Agreement\"}\n                    suffix={\n                      <Clipboard onClick={onClick} style={{ background: 'white', border: '0px', outline: '0px' }}>\n                        <Tooltip title=\"Paste raname Name\">\n                          <NewIco type=\"snippets\" style={{ color: 'black', fontSize: 'x-large' }} />\n                        </Tooltip>\n                      </Clipboard>\n                    }\n                    type=\"text\"\n                    name=\"raname\"\n                    value={addArticle.raname}\n                    onChange={handleChange}\n                    style={{ width: '35%' }}\n                  />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"ARTICLE NUMBER:\"\n                  name=\"articleNo\"\n                  rules={[\n                    {\n                      required: true,\n                      message: \"Introduce the article number\"\n                    }\n                  ]}\n                >\n                  <InputNumber\n                    size=\"large\"\n                    placeholder={\"1\"}\n                    min={1}\n                    max={100000}\n                    name=\"articleNo\"\n                    value={addArticle.articleNo}\n                    onChange={onChange}\n                    style={{ width: '10%' }}\n                  />\n                </Form.Item>\n                <Form.Item hasFeedback>\n                  <Row type=\"flex\" justify=\"start\" gutter={16}>\n                    <Col xs={4} sm={4} xl={4} >\n                      <div style={style}> FEATURE </div>\n                    </Col>\n                    <Col xs={2} sm={2} xl={2}>\n                      <div style={style}> ID </div>\n                    </Col>\n                    <Col xs={5} sm={5} xl={5}>\n                      <div style={style}> VALUE </div>\n                    </Col>\n                  </Row>\n                  {costs.map((item, index) => (\n                    <Row type=\"flex\" justify=\"start\" gutter={16} key={index}>\n                      <Col xs={4} sm={4} xl={4} >\n                        <AutoComplete\n                          size=\"large\"\n                          style={{ width: '100%' }}\n                          dataSource={dataSource}\n                          placeholder={\"Feature\"}\n                          filterOption={(inputValue, option) =>\n                            option.props.children.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1\n                          }\n                        />\n                      </Col>\n                      <Col xs={2} sm={2} xl={2}>\n                        <Input\n                          name=\"price\"\n                          size=\"large\"\n                          placeholder={\"ID\"}\n                          style={{ width: '100%' }}\n                          data-id={index}\n                          type=\"number\"\n                          value={item.price}\n                          onChange={handleCostsChange}\n                        />\n                      </Col>\n                      <Col xs={5} sm={5} xl={5}>\n                        <Input\n                          name=\"name\"\n                          size=\"large\"\n                          data-id={index}\n                          style={{ width: '100%' }}\n                          type=\"text\"\n                          value={item.name}\n                          onChange={handleCostsChange}\n                        />\n                      </Col>\n                    </Row>\n                  ))}\n                </Form.Item>\n                <Form.Item>\n                  <Button\n                    type=\"primary\"\n                    icon=\"plus\"\n                    style={{ width: '2%' }}\n                    onClick={addNewCost}>\n                  </Button>\n                  <br />\n                  <br />\n                  <Button\n                    size=\"large\"\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    block\n                    style={{ width: '35%' }}\n                  >\n                    PROPOSE ARTICLE\n                  </Button>\n                </Form.Item>\n              </Col>\n            </Spin>\n          </Form>\n        </Col>\n      </Row>\n    </section >\n  );\n};\n\nexport default AddArticle;"]},"metadata":{},"sourceType":"module"}