{"ast":null,"code":"import \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/spin/style\";\nimport _Spin from \"antd/es/spin\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/auto-complete/style\";\nimport _AutoComplete from \"antd/es/auto-complete\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport _defineProperty from \"/app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/notification/style\";\nimport _notification from \"antd/es/notification\";\nvar _jsxFileName = \"/app/src/pages/Agreement/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./../../App.css\";\nimport axios from \"axios\";\nimport * as lerData from \"./../../data/LER.json\";\nimport Clipboard from 'react-clipboard.js';\nimport { useGlobal } from \"reactn\";\n\n_notification.config({\n  placement: \"topRight\",\n  bottom: 50,\n  duration: 1.5\n});\n\nconst Agreement = () => {\n  const initialFormState = {\n    mno1: \"\",\n    mno2: \"\",\n    nameRA: \"\"\n  };\n  const initialFormState2 = {\n    mno: \"\"\n  };\n  const formItemLayout = {};\n\n  const _useGlobal = useGlobal(),\n        _useGlobal2 = _slicedToArray(_useGlobal, 1),\n        global = _useGlobal2[0];\n\n  let userDetails = JSON.parse(localStorage.getItem('user'));\n\n  const _useState = useState(initialFormState),\n        _useState2 = _slicedToArray(_useState, 2),\n        createAgreement = _useState2[0],\n        setcreateAgreement = _useState2[1];\n\n  const _useState3 = useState(initialFormState2),\n        _useState4 = _slicedToArray(_useState3, 2),\n        acceptAgreement = _useState4[0],\n        setacceptAgreement = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        loading = _useState6[0],\n        setLoading = _useState6[1];\n\n  function onChange(value) {\n    setcreateAgreement(prevValue => _objectSpread({}, prevValue, {\n      mno2: value\n    }));\n  }\n\n  function handleChange(event) {\n    const value = event.target.value;\n    setcreateAgreement(_objectSpread({}, createAgreement, {\n      [event.target.name]: value\n    }));\n  }\n\n  function handleChange2(event) {\n    const value = event.target.value;\n    setacceptAgreement(_objectSpread({}, acceptAgreement, {\n      [event.target.name]: value\n    }));\n  }\n\n  const onClick = () => {\n    const value = global.value;\n    acceptAgreement.mno = value;\n    setacceptAgreement(prevValue => _objectSpread({}, prevValue, {\n      tokenid: value\n    }));\n  };\n\n  const openNotificationWithIcon = (type, title, description) => {\n    _notification[type]({\n      message: title,\n      description: description\n    });\n  }; //Create a news products\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    const jwtToken = localStorage.getItem(\"token\"); //Set POST request\n\n    axios.post(\"http://\".concat(process.env.REACT_APP_GATEWAY_HOST, \":\").concat(process.env.REACT_APP_GATEWAY_PORT, \"/proposeAgreementInitiation\"), {\n      createAgreement,\n      userDetails\n    }, {\n      headers: {\n        \"Authorization\": \"Bearer \".concat(jwtToken)\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        openNotificationWithIcon(\"success\", \"SUCCESSFULLY REGISTERED AGREEMENT\");\n      }\n\n      if (res.status === 201) {\n        openNotificationWithIcon(\"error\", \"MISSING VALUES TO CREATE THE AGREEMENT\");\n      }\n\n      if (res.status === 202) {\n        openNotificationWithIcon(\"error\", \"ROAMING AGREEMENT MUST BE CREATED BETWEEN TWO MNOs\");\n      }\n    }).catch(() => openNotificationWithIcon(\"error\", \"UNREGISTERED ROAMING AGREEMENT\")).finally(() => setLoading(false));\n  };\n\n  const handleSubmit2 = e => {\n    e.preventDefault();\n    setLoading(true);\n    const jwtToken = localStorage.getItem(\"token\"); //Set POST request\n\n    axios.post(\"http://\".concat(process.env.REACT_APP_GATEWAY_HOST, \":\").concat(process.env.REACT_APP_GATEWAY_PORT, \"/acceptAgreementInitiation\"), {\n      acceptAgreement,\n      userDetails\n    }, {\n      headers: {\n        \"Authorization\": \"Bearer \".concat(jwtToken)\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        openNotificationWithIcon(\"success\", \"SUCCESSFULLY REGISTERED AGREEMENT\");\n      }\n\n      if (res.status === 201) {\n        openNotificationWithIcon(\"error\", \"MISSING VALUES TO CREATE THE AGREEMENT\");\n      }\n\n      if (res.status === 202) {\n        openNotificationWithIcon(\"error\", \"ROAMING AGREEMENT MUST BE CREATED BETWEEN TWO MNOs\");\n      }\n    }).catch(() => openNotificationWithIcon(\"error\", \"UNREGISTERED ROAMING AGREEMENT\")).finally(() => setLoading(false));\n  };\n\n  return React.createElement(\"section\", {\n    className: \"CommentsWrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(_Row, {\n    gutter: [16, 16],\n    type: \"flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, \" ROAMING AGREEMENT\"), React.createElement(_Col, {\n    xl: 24,\n    lg: 24,\n    md: 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(_Form, Object.assign({}, formItemLayout, {\n    name: \"basic\",\n    initialvalues: {\n      remember: true\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }), React.createElement(_Spin, {\n    spinning: loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(_Col, {\n    lg: 1,\n    md: 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }), React.createElement(_Col, {\n    lg: 12,\n    md: 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, \" ROAMING AGREEMENT CREATION\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }), React.createElement(_Form.Item, {\n    label: \"NAME OF THE SECOND MOBILE NETWORK OPERATOR:\",\n    name: \"mno2\",\n    rules: [{\n      required: true,\n      message: \"Introducir identificador único del lote\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, React.createElement(_AutoComplete, {\n    size: \"large\",\n    dataSource: lerData.LER.map(data => data.name),\n    placeholder: \"E.g.: ORANGE\",\n    style: {\n      width: '80%'\n    },\n    onSelect: data => data,\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  })), React.createElement(_Form.Item, {\n    label: \"NAME OF THE ROAMING AGREEMENT\",\n    name: \"nameRA\",\n    rules: [{\n      required: true,\n      message: \"Introducir correctamente la métrica\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(_Input, {\n    size: \"large\",\n    placeholder: \"E.g.: Proximus Roaming Agreement\",\n    type: \"text\",\n    name: \"nameRA\",\n    value: createAgreement.nameRA,\n    onChange: handleChange,\n    style: {\n      width: '80%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }), React.createElement(_Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, React.createElement(_Button, {\n    size: \"large\",\n    type: \"primary\",\n    htmlType: \"submit\",\n    block: true,\n    style: {\n      width: '80%'\n    },\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, \"CREATE ROAMING AGREEMENT\"))), React.createElement(_Col, {\n    lg: 11,\n    md: 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, \" ROAMING AGREEMENT ACCEPTATION\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }), React.createElement(_Form.Item, {\n    label: \"ROAMING AGREEMENT CLOSED WITH\",\n    name: \"mno\",\n    rules: [{\n      required: true,\n      message: \"ROAMING AGREEMENT CLOSED WITH\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }, React.createElement(_AutoComplete, {\n    size: \"large\",\n    dataSource: lerData.LER.map(data => data.name),\n    placeholder: \"E.g.: TELEFONICA\",\n    style: {\n      width: '80%'\n    },\n    onSelect: data => data,\n    onChange: handleChange2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256\n    },\n    __self: this\n  }), React.createElement(_Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257\n    },\n    __self: this\n  }, React.createElement(_Button, {\n    size: \"large\",\n    type: \"primary\",\n    htmlType: \"submit\",\n    block: true,\n    style: {\n      width: '80%'\n    },\n    onClick: handleSubmit2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  }, \"ACCEPT ROAMING AGREEMENT\"))))))));\n};\n\nexport default Agreement;","map":{"version":3,"sources":["/app/src/pages/Agreement/index.js"],"names":["React","useState","useEffect","axios","lerData","Clipboard","useGlobal","config","placement","bottom","duration","Agreement","initialFormState","mno1","mno2","nameRA","initialFormState2","mno","formItemLayout","global","userDetails","JSON","parse","localStorage","getItem","createAgreement","setcreateAgreement","acceptAgreement","setacceptAgreement","loading","setLoading","onChange","value","prevValue","handleChange","event","target","name","handleChange2","onClick","tokenid","openNotificationWithIcon","type","title","description","message","handleSubmit","e","preventDefault","jwtToken","post","process","env","REACT_APP_GATEWAY_HOST","REACT_APP_GATEWAY_PORT","headers","then","res","status","catch","finally","handleSubmit2","remember","required","LER","map","data","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  AutoComplete,\n  Row,\n  Col,\n  Form,\n  Input,\n  Button,\n  notification,\n  Spin,\n  Tooltip\n} from \"antd\";\nimport \"./../../App.css\";\nimport axios from \"axios\";\nimport { Icon as NewIco } from \"antd\";\nimport * as lerData from \"./../../data/LER.json\";\nimport Clipboard from 'react-clipboard.js';\nimport { useGlobal } from \"reactn\";\n\nnotification.config({\n  placement: \"topRight\",\n  bottom: 50,\n  duration: 1.5,\n});\n\nconst Agreement = () => {\n\n  const initialFormState = {\n    mno1: \"\",\n    mno2: \"\",\n    nameRA: \"\",\n  };\n\n  const initialFormState2 = {\n    mno: \"\",\n  };\n\n  const formItemLayout = {};\n  const [global] = useGlobal();\n  let userDetails = JSON.parse(localStorage.getItem('user'));\n  const [createAgreement, setcreateAgreement] = useState(initialFormState);\n  const [acceptAgreement, setacceptAgreement] = useState(initialFormState2);\n  const [loading, setLoading] = useState(false);\n\n  function onChange(value) {\n    setcreateAgreement(prevValue => ({ ...prevValue, mno2: value }))\n  }\n\n  function handleChange(event) {\n    const value = event.target.value;\n    setcreateAgreement({\n      ...createAgreement,\n      [event.target.name]: value\n    });\n  }\n\n  function handleChange2(event) {\n    const value = event.target.value;\n    setacceptAgreement({\n      ...acceptAgreement,\n      [event.target.name]: value\n    });\n  }\n\n\n  const onClick = () => {\n    const value = global.value;\n    acceptAgreement.mno = value;\n    setacceptAgreement(prevValue => ({ ...prevValue, tokenid: value }));\n  }\n\n  const openNotificationWithIcon = (type, title, description) => {\n    notification[type]({\n      message: title,\n      description: description,\n    });\n  };\n\n  //Create a news products\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true)\n    const jwtToken = localStorage.getItem(\"token\");\n    //Set POST request\n    axios\n      .post(`http://${process.env.REACT_APP_GATEWAY_HOST}:${process.env.REACT_APP_GATEWAY_PORT}/proposeAgreementInitiation`, { createAgreement, userDetails }, { headers: { \"Authorization\": `Bearer ${jwtToken}` } })\n      .then((res) => {\n        if (res.status === 200) {\n          openNotificationWithIcon(\n            \"success\",\n            \"SUCCESSFULLY REGISTERED AGREEMENT\"\n          );\n        }\n        if (res.status === 201) {\n          openNotificationWithIcon(\n            \"error\",\n            \"MISSING VALUES TO CREATE THE AGREEMENT\"\n          );\n        }\n        if (res.status === 202) {\n          openNotificationWithIcon(\n            \"error\",\n            \"ROAMING AGREEMENT MUST BE CREATED BETWEEN TWO MNOs\"\n          );\n        }\n      })\n      .catch(() =>\n        openNotificationWithIcon(\n          \"error\",\n          \"UNREGISTERED ROAMING AGREEMENT\",\n        )\n      )\n      .finally(() => setLoading(false));\n  };\n\n  const handleSubmit2 = (e) => {\n    e.preventDefault();\n    setLoading(true)\n    const jwtToken = localStorage.getItem(\"token\");\n    //Set POST request\n    axios\n      .post(`http://${process.env.REACT_APP_GATEWAY_HOST}:${process.env.REACT_APP_GATEWAY_PORT}/acceptAgreementInitiation`, { acceptAgreement, userDetails }, { headers: { \"Authorization\": `Bearer ${jwtToken}` } })\n      .then((res) => {\n        if (res.status === 200) {\n          openNotificationWithIcon(\n            \"success\",\n            \"SUCCESSFULLY REGISTERED AGREEMENT\"\n          );\n        }\n        if (res.status === 201) {\n          openNotificationWithIcon(\n            \"error\",\n            \"MISSING VALUES TO CREATE THE AGREEMENT\"\n          );\n        }\n        if (res.status === 202) {\n          openNotificationWithIcon(\n            \"error\",\n            \"ROAMING AGREEMENT MUST BE CREATED BETWEEN TWO MNOs\"\n          );\n        }\n      })\n      .catch(() =>\n        openNotificationWithIcon(\n          \"error\",\n          \"UNREGISTERED ROAMING AGREEMENT\",\n        )\n      )\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <section className=\"CommentsWrapper\">\n      <Row gutter={[16, 16]} type=\"flex\">\n        <h2> ROAMING AGREEMENT</h2>\n        <Col xl={24} lg={24} md={24}>\n          <Form\n            {...formItemLayout}\n            name=\"basic\"\n            initialvalues={{\n              remember: true\n            }}\n          >\n            <Spin spinning={loading}>\n              <Col lg={1} md={24}></Col>\n              <Col lg={12} md={24}>\n                <h2> ROAMING AGREEMENT CREATION</h2>\n                <br />\n                <Form.Item\n                  label=\"NAME OF THE SECOND MOBILE NETWORK OPERATOR:\"\n                  name=\"mno2\"\n                  rules={[\n                    {\n                      required: true,\n                      message: \"Introducir identificador único del lote\"\n                    }\n                  ]}\n                >\n                  <AutoComplete\n                    size=\"large\"\n                    dataSource={lerData.LER.map(data => data.name)}\n                    placeholder={\"E.g.: ORANGE\"}\n                    style={{ width: '80%' }}\n                    onSelect={(data) => data}\n                    onChange={onChange}\n                  >\n                  </AutoComplete>\n                </Form.Item>\n\n                <Form.Item\n                  label=\"NAME OF THE ROAMING AGREEMENT\"\n                  name=\"nameRA\"\n                  rules={[\n                    {\n                      required: true,\n                      message: \"Introducir correctamente la métrica\"\n                    }\n                  ]}\n                >\n                  <Input\n                    size=\"large\"\n                    placeholder={\"E.g.: Proximus Roaming Agreement\"}\n                    type=\"text\"\n                    name=\"nameRA\"\n                    value={createAgreement.nameRA}\n                    onChange={handleChange}\n                    style={{ width: '80%' }}\n                  />\n                </Form.Item>\n                <br />\n                <br />\n                <br />\n                <Form.Item>\n                  <Button\n                    size=\"large\"\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    block\n                    style={{ width: '80%' }}\n                    onClick={handleSubmit}\n                  >\n                    CREATE ROAMING AGREEMENT\n                  </Button>\n                </Form.Item>\n              </Col>\n              <Col lg={11} md={24}>\n                <h2> ROAMING AGREEMENT ACCEPTATION</h2>\n                <br />\n                <Form.Item\n                  label=\"ROAMING AGREEMENT CLOSED WITH\"\n                  name=\"mno\"\n                  rules={[\n                    {\n                      required: true,\n                      message: \"ROAMING AGREEMENT CLOSED WITH\"\n                    }\n                  ]}\n                >\n                  <AutoComplete\n                    size=\"large\"\n                    dataSource={lerData.LER.map(data => data.name)}\n                    placeholder={\"E.g.: TELEFONICA\"}\n                    style={{ width: '80%' }}\n                    onSelect={(data) => data}\n                    onChange={handleChange2}\n                  >\n                  </AutoComplete>\n                </Form.Item>\n                <br />\n                <br />\n                <br />\n                <br />\n                <br />\n                <br />\n                <br />\n                <br />\n                <Form.Item>\n                  <Button\n                    size=\"large\"\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    block\n                    style={{ width: '80%' }}\n                    onClick={handleSubmit2}\n                  >\n                    ACCEPT ROAMING AGREEMENT\n                  </Button>\n                </Form.Item>\n              </Col>\n            </Spin>\n          </Form>\n        </Col>\n      </Row>\n    </section>\n  );\n};\n\nexport default Agreement;"]},"metadata":{},"sourceType":"module"}